#!/bin/bash
# Git Commit Script for Phase 5 Completion
# Run this script to commit all Phase 5 changes

cd "$(dirname "$0")"

echo "â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—"
echo "â•‘                                                               â•‘"
echo "â•‘         Phase 5 Completion - Git Commit Script                â•‘"
echo "â•‘                                                               â•‘"
echo "â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
echo ""

# Check if we're in a git repository
if [ ! -d ".git" ]; then
    echo "âŒ Error: Not in a git repository"
    exit 1
fi

echo "ğŸ“¦ Staging all changes..."
git add -A

echo ""
echo "ğŸ“‹ Files to be committed:"
git status --short | head -20
echo ""

echo "ğŸ’¾ Creating commit..."
git commit -F .git-commit-message

if [ $? -eq 0 ]; then
    echo ""
    echo "âœ… Commit successful!"
    echo ""
    echo "ğŸ“ Commit details:"
    git log -1 --stat
    echo ""
    echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
    echo "ğŸ‰ Phase 5 Complete! Commit created successfully."
    echo "â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•"
    echo ""
    echo "Next steps:"
    echo "  1. Review commit: git show HEAD"
    echo "  2. Push to remote: git push"
    echo "  3. Start Phase 6: Follow docs/XCODE_SETUP.md"
    echo ""
else
    echo ""
    echo "âŒ Commit failed"
    echo "Please check for errors and try again"
    exit 1
fi

